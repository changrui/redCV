Red [	Title:   "Laplacian Filter "	Author:  "Francois Jouen"	File: 	 %laplacian.red	Needs:	 'View]; last Red Master required!#include %../../libs/redcv.red ; for redCV functionsmargins: 10x10defSize: 512x512img1: rcvCreateImage defSizedst:  rcvCreateImage defSizecurrentImage:  rcvCreateImage defSizegray: rcvCreateImage defSizeisFile: falseparam: 4loadImage: does [    isFile: false	canvas/image/rgb: black	canvas/size: 0x0	tmp: request-file	if not none? tmp [		fileName: to string! to-local-file tmp		win/text: copy "Edges detection: Laplacian "		append win/text fileName		img1: rcvLoadImage tmp		gray: rcvLoadImage/grayscale tmp		currentImage rcvCreateImage img1/size		either cb/data [currentImage: rcvCloneImage gray]					   [currentImage: rcvCloneImage img1]		dst:  rcvCloneImage currentImage		; update faces		if img1/size/x >= defSize/x [			win/size/x: img1/size/x + 20			win/size/y: img1/size/y + 256; 90		] 		either (img1/size/x = img1/size/y) [bb/size: 120x120] [bb/size: 160x120]		canvas/size: img1/size		canvas/offset/x: (win/size/x - img1/size/x) / 2		bb/image: img1		canvas/image: dst		isFile: true		rcvLaplacian currentImage dst img1/size param		r1/data: true		r2/data: false		r3/data: false	]]; ***************** Test Program ****************************view win: layout [		title "Edges detection: Laplacian"		origin margins space margins				button 60 "Load" 		[loadImage]			cb: check "Grayscale" 	[either cb/data 									[currentImage: rcvCloneImage gray]					   				[currentImage: rcvCloneImage img1]									rcvLaplacian currentImage dst img1/size param								]							button 60 "Quit" 		[rcvReleaseImage img1 rcvReleaseImage gray 								rcvReleaseImage dst rcvReleaseImage currentImage 								Quit]		return		bb: base 160x120 img1		return		r1: radio "Connexity 4" [param: 4 rcvLaplacian currentImage dst currentImage/size param ]		r2: radio "Connexity 8" [param: 8 rcvLaplacian currentImage dst currentImage/size param]			r3: radio "Connexity 16" [param: 16 rcvLaplacian currentImage dst currentImage/size param]		return		canvas: base 512x512 dst			do [r1/data: true]]